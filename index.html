<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù‚Ø±Ø§Ù† ÙƒØ±ÙŠÙ…</title>

<style>
:root{
  --bg:#f4f8f6;
  --card:#ffffff;
  --main:#0e6848;
  --text:#1b3a2f;
}
body.dark{
  --bg:#0f1f1a;
  --card:#162d25;
  --text:#e7f3ee;
}
body{
  margin:0;
  font-family:Tahoma;
  background:var(--bg);
  color:var(--text);
  transition:.3s;
}
header{
  background:var(--main);
  color:#fff;
  padding:20px;
  text-align:center;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:15px;
  padding:20px;
}
.card{
  background:var(--card);
  padding:20px;
  border-radius:14px;
  text-align:center;
  cursor:pointer;
  box-shadow:0 6px 15px rgba(0,0,0,.1);
}
.player-bar{
  position:fixed;
  bottom:0;left:0;right:0;
  background:var(--card);
  border-top:2px solid var(--main);
  display:flex;
  gap:10px;
  align-items:center;
  padding:10px;
}
.player-bar button{
  background:var(--main);
  color:#fff;
  border:none;
  padding:6px 10px;
  border-radius:6px;
}
footer{
  margin-bottom:70px;
  text-align:center;
  font-size:12px;
  opacity:.7;
}
audio{display:none}
</style>
</head>

<body>

<header>
  <h3>Ù‚Ø±Ø¢Ù† ÙŠØªÙ„Ù‰ Ø¢Ù†Ø§Ø¡ Ø§Ù„Ù„ÙŠÙ„ ÙˆØ£Ø·Ø±Ø§Ù Ø§Ù„Ù†Ù‡Ø§Ø±</h3>
  <p>ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ© Ø¹Ù†ÙŠ ÙˆØ¹Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†</p>
  <button onclick="toggleDark()">ğŸŒ™</button>
</header>

<div class="grid" id="grid"></div>

<footer>
Â© Ù‚Ø±Ø§Ù† ÙƒØ±ÙŠÙ… â€“ ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ© Ø¹Ù†ÙŠ ÙˆØ¹Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†
</footer>

<audio id="player"></audio>

<div class="player-bar">
  <button onclick="prev()">â®ï¸</button>
  <button onclick="togglePlay()">â–¶ï¸/â¸ï¸</button>
  <button onclick="next()">â­ï¸</button>
  <button onclick="mute()">ğŸ”‡</button>
  <div id="now">Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ´ØºÙŠÙ„</div>
</div>

<script>
let playlist=[];
let index=0;
const player=document.getElementById("player");
const now=document.getElementById("now");
const grid=document.getElementById("grid");

fetch("config.json")
.then(r=>r.json())
.then(cfg=>{
  playlist.push(cfg.radio);
  playlist.push(cfg.majd);
  cfg.sheikhs.forEach(s=>playlist.push(s));

  grid.innerHTML=`
    <div class="card" onclick="play(0)">ğŸ“» ${cfg.radio.name}</div>
    <div class="card" onclick="play(1)">ğŸ“¡ ${cfg.majd.name}</div>
    <div class="card" onclick="window.open('${cfg.telegram.url}')">ğŸ“¨ Ù‚Ù†Ø§Ø© Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…</div>
    <div class="card" onclick="play(2)">ğŸ¤ Ø§Ù„Ù‚Ø±Ù‘Ø§Ø¡</div>
  `;
});

function play(i){
  index=i;
  player.src=playlist[index].url;
  player.play();
  now.textContent="ğŸ”Š "+playlist[index].name;
}
function togglePlay(){player.paused?player.play():player.pause();}
function next(){play((index+1)%playlist.length);}
function prev(){play((index-1+playlist.length)%playlist.length);}
function mute(){player.muted=!player.muted;}
function toggleDark(){document.body.classList.toggle("dark");}
</script>

</body>
</html>
