<!DOCTYPE html>
<html lang="ar" dir="rtl" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø°Ø§Ø¹Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… - sar7an_1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #0f172a; color: #f8fafc; margin: 0; padding-bottom: 160px; }
        .prayer-card { aspect-ratio: 1 / 1; background: #1e293b; border-radius: 2.5rem; border: 1px solid rgba(255,255,255,0.05); display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .player-text-shadow { text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
    </style>
</head>
<body>

<!-- ====== Ù†ÙØ³ Ø§Ù„Ù€ HTML Ø¨ØªØ§Ø¹Ùƒ Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØªØºÙŠÙŠØ± ====== -->

<audio id="main-audio" crossorigin="anonymous"></audio>

<script>
/* =========================
   ğŸ”§ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ­ÙŠØ¯ Ù‡Ù†Ø§
   ========================= */

const audio = document.getElementById('main-audio');
audio.setAttribute('playsinline', 'true');
audio.muted = false;

let isPlaying = false;

/* Ù†ÙØ³ readers */
const readers = [
  { name: "Ø§Ù„Ø´ÙŠØ® Ù…Ø§Ù‡Ø± Ø§Ù„Ù…Ø¹ÙŠÙ‚Ù„ÙŠ", url: "https://backup.qurango.net/radio/maher_al_moaikli" },
  { name: "Ø§Ù„Ø´ÙŠØ® Ø¹Ø¨Ø¯ Ø§Ù„Ø¨Ø§Ø³Ø· Ø¹Ø¨Ø¯ Ø§Ù„ØµÙ…Ø¯", url: "https://backup.qurango.net/radio/abdulbasit_abdulsamad_mojawwad" },
  { name: "Ø§Ù„Ø´ÙŠØ® Ù…Ø­Ù…Ø¯ ØµØ¯ÙŠÙ‚ Ø§Ù„Ù…Ù†Ø´Ø§ÙˆÙŠ", url: "https://backup.qurango.net/radio/mohammed_siddiq_alminshawi_mojawwad" },
  { name: "Ø§Ù„Ø´ÙŠØ® Ù…Ø´Ø§Ø±ÙŠ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ", url: "https://backup.qurango.net/radio/mishary_alafasi" },
  { name: "Ø§Ù„Ø´ÙŠØ® Ù…Ø­Ù…ÙˆØ¯ Ø®Ù„ÙŠÙ„ Ø§Ù„Ø­ØµØ±ÙŠ", url: "https://backup.qurango.net/radio/mahmoud_khalil_alhussary" },
  { name: "Ø§Ù„Ø´ÙŠØ® ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ", url: "https://backup.qurango.net/radio/yasser_aldosari" }
];

/* âœ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù‡Ù†Ø§ */
function selectStation(name, url, sub) {
  audio.pause();
  audio.src = url;
  audio.load();

  audio.oncanplay = () => {
    audio.play().then(() => {
      isPlaying = true;
      updateIcons(true);
    }).catch(() => {
      console.log("Ø§Ù„Ù…ØªØµÙØ­ Ù…Ù†Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„ â€“ Ø§Ø¶ØºØ· Ù…Ø±Ø© Ø£Ø®Ø±Ù‰");
    });
  };

  document.getElementById('current-name').innerText = name;
  document.getElementById('current-reciter').innerText = sub;
  document.getElementById('mini-name').innerText = name;
  document.getElementById('mini-sub').innerText =
    name === 'Ø§Ù„Ø¥Ø°Ø§Ø¹Ø© Ø§Ù„Ø¹Ø§Ù…Ø©' ? 'ON AIR' : 'Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„';
}

function togglePlay() {
  isPlaying ? pauseAudio() : playAudio();
}

function playAudio() {
  if (!audio.src) {
    selectStation(
      'Ø§Ù„Ø¥Ø°Ø§Ø¹Ø© Ø§Ù„Ø¹Ø§Ù…Ø©',
      'https://backup.qurango.net/radio/ertu_main',
      'Ø¨Ø« Ù…Ø¨Ø§Ø´Ø± Ù…Ù† Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©'
    );
  } else {
    audio.play();
    isPlaying = true;
    updateIcons(true);
  }
}

function pauseAudio() {
  audio.pause();
  isPlaying = false;
  updateIcons(false);
}

function updateIcons(play) {
  const pi = document.getElementById('play-state-icon');
  const mi = document.getElementById('mini-play-icon');
  pi.innerHTML = play
    ? '<div class="flex items-end gap-2 h-12"><div class="w-3 bg-white h-full"></div><div class="w-3 bg-white h-2/3"></div><div class="w-3 bg-white h-full"></div></div>'
    : '<i class="fa-solid fa-play ml-2"></i>';
  mi.className = play ? "fa-solid fa-pause text-3xl" : "fa-solid fa-play text-3xl";
}

function changeVolume(v) {
  audio.volume = v;
}
</script>

</body>
</html>
